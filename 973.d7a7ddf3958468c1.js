"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[973],{973:(T,P,c)=>{c.r(P),c.d(P,{PasosFronterizosPageModule:()=>y});var m=c(177),_=c(9417),r=c(9364),b=c(5260),o=c(4438),v=c(9437),M=c(8810),F=c(1626);let O=(()=>{var n;class i{constructor(t){this.http=t,this.apiUrl="https://archivos.meteochile.gob.cl/dmc-movil/api/v1/pasosfronterizos"}getDataPasosFronterizos(){const t=`${this.apiUrl}?t=${Date.now()}`;return this.http.get(t).pipe((0,v.W)(s=>(console.error("Error al obtener los datos:",s),(0,M.$)(()=>new Error("Error al obtener datos de la API")))))}}return(n=i).\u0275fac=function(t){return new(t||n)(o.KVO(F.Qq))},n.\u0275prov=o.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),i})();const z=n=>({"background-image":n});function C(n,i){if(1&n&&(o.j41(0,"ion-item")(1,"ion-thumbnail",1),o.nrm(2,"img",15),o.k0s(),o.j41(3,"ion-label"),o.EFF(4),o.k0s()()),2&n){const e=i.$implicit;o.R7$(2),o.Y8G("src","assets/iconosclima/"+e.imagen,o.B4B),o.R7$(2),o.Lme("",e.nombre,": ",e.descripcion,"")}}function k(n,i){if(1&n&&(o.j41(0,"ion-card-content")(1,"ion-item")(2,"ion-label"),o.EFF(3),o.k0s()(),o.DNE(4,C,5,3,"ion-item",9),o.j41(5,"ion-item")(6,"ion-label"),o.nrm(7,"ion-icon",14),o.EFF(8),o.k0s()()()),2&n){const e=i.$implicit;o.R7$(3),o.JRh(e.fecha),o.R7$(),o.Y8G("ngForOf",e.pasos),o.R7$(4),o.SpI("Isoterma ",e.isotermaText,"")}}function $(n,i){if(1&n&&(o.j41(0,"ion-card-content")(1,"ion-list"),o.DNE(2,k,9,3,"ion-card-content",9),o.k0s()()),2&n){const e=o.XpG().$implicit;o.R7$(2),o.Y8G("ngForOf",e.pronosticos)}}function j(n,i){if(1&n){const e=o.RV6();o.qex(0),o.j41(1,"ion-card",10),o.bIt("click",function(){const s=o.eBV(e).$implicit,g=o.XpG();return o.Njj(g.toggleAccordion(s))}),o.j41(2,"ion-card-header")(3,"ion-label"),o.EFF(4),o.k0s(),o.j41(5,"div",11),o.nrm(6,"ion-icon",12),o.k0s()(),o.DNE(7,$,3,1,"ion-card-content",13),o.k0s(),o.bVm()}if(2&n){const e=i.$implicit,t=o.XpG();o.R7$(4),o.JRh(e.nombre),o.R7$(2),o.Y8G("name",t.isAccordionOpen(e)?"chevron-up-sharp":"chevron-down-sharp"),o.R7$(),o.Y8G("ngIf",t.isAccordionOpen(e))}}const E=[{path:"",component:(()=>{var n;class i{constructor(t){this.api=t,this.fronterizos=[],this.images=["assets/fondolista/cordillera.jpg","assets/fondolista/costa.jpg","assets/fondolista/desierto.jpg","assets/fondolista/isla.jpg","assets/fondolista/patagonia.jpg","assets/fondolista/valle.jpg","assets/fondolista/glaciar.jpg"],this.currentImage=this.images[0],this.imageIndex=0,this.accordionStates={}}ngOnInit(){this.fillDataPasosFronterizos(),setInterval(()=>{this.imageIndex=(this.imageIndex+1)%this.images.length,this.currentImage=this.images[this.imageIndex]},5e3)}decodeHTMLEntities(t){if(null==t)return"";const s={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&#39;":"'","&Aacute;":"\xc1","&aacute;":"\xe1","&Eacute;":"\xc9","&eacute;":"\xe9","&Iacute;":"\xcd","&iacute;":"\xed","&Oacute;":"\xd3","&oacute;":"\xf3","&Uacute;":"\xda","&uacute;":"\xfa","&Ntilde;":"\xd1","&ntilde;":"\xf1"};return t.replace(/&[^\s;]+;/g,g=>s[g]||g)}fillDataPasosFronterizos(){this.api.getDataPasosFronterizos().subscribe(t=>{this.fronterizos=t.data.map(s=>{var g;return{...s,nombre:this.decodeHTMLEntities(s.nombre),emision:this.decodeHTMLEntities(s.emision),apreciacion:this.decodeHTMLEntities(null!==(g=s.apreciacion)&&void 0!==g?g:""),pasos:s.pasos.map(a=>{var l,d;return{...a,nombre:this.decodeHTMLEntities(null!==(l=a.nombre)&&void 0!==l?l:""),descripcion:this.decodeHTMLEntities(null!==(d=a.descripcion)&&void 0!==d?d:"")}}),pronosticos:s.pronosticos.map(a=>{var l,d;return{...a,fecha:this.decodeHTMLEntities(null!==(l=a.fecha)&&void 0!==l?l:""),isotermaText:this.decodeHTMLEntities(null!==(d=a.isotermaText)&&void 0!==d?d:""),pasos:a.pasos.map(u=>{var p,h,f;return{nombre:this.decodeHTMLEntities(null!==(p=u.nombre)&&void 0!==p?p:""),descripcion:this.decodeHTMLEntities(null!==(h=u.descripcion)&&void 0!==h?h:""),imagen:this.decodeHTMLEntities(null!==(f=u.imagen)&&void 0!==f?f:"")}})}})}}),console.log(this.fronterizos)})}toggleAccordion(t){const s=t.nombre,g=this.accordionStates[s]||!1;for(const a in this.accordionStates)this.accordionStates.hasOwnProperty(a)&&(this.accordionStates[a]=!1);this.accordionStates[s]=!g}isAccordionOpen(t){return!!this.accordionStates[t.nombre]}}return(n=i).\u0275fac=function(t){return new(t||n)(o.rXU(O))},n.\u0275cmp=o.VBU({type:n,selectors:[["app-pasos-fronterizos"]],decls:10,vars:4,consts:[[2,"display","flex","justify-content","space-between"],["slot","start"],["color","primary","menu","main-menu"],["slot","end","href","https://www.dgac.gob.cl/"],["id","logo","src","../../assets/icon/DGAC-logo.jpg","alt","logo",2,"height","40px","width","30px","margin-right","1vh"],["slot","end","href","https://archivos.meteochile.gob.cl/portaldmc/movil/movil_inicio.php"],["id","logo","src","../../assets/icon/DMC-logo.png","alt","logo",2,"height","40px","width","40px","margin-right","1vh"],[3,"ngStyle"],["lines","none",1,"menu-items",2,"margin-top","8vh"],[4,"ngFor","ngForOf"],[3,"click"],[2,"text-align","center"],[3,"name"],[4,"ngIf"],["name","thermometer-sharp"],[2,"height","50px","width","50px",3,"src"]],template:function(t,s){1&t&&(o.j41(0,"ion-toolbar",0)(1,"ion-buttons",1),o.nrm(2,"ion-menu-button",2),o.k0s(),o.j41(3,"a",3),o.nrm(4,"img",4),o.k0s(),o.j41(5,"a",5),o.nrm(6,"img",6),o.k0s()(),o.j41(7,"body",7)(8,"ion-list",8),o.DNE(9,j,8,3,"ng-container",9),o.k0s()()),2&t&&(o.R7$(7),o.Y8G("ngStyle",o.eq3(2,z,"url("+s.currentImage+")")),o.R7$(2),o.Y8G("ngForOf",s.fronterizos))},dependencies:[m.Sq,m.bT,m.B3,r.QW,r.b_,r.I9,r.ME,r.iq,r.uz,r.he,r.nf,r.MC,r.Zx,r.ai],styles:['@font-face{font-family:Open Sans;src:url(OpenSans-Bold.c1fc02c2ea5dd4e9.ttf) format("truetype")}*[_ngcontent-%COMP%]{font-family:Open Sans}ion-toolbar[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .65)}ion-searchbar[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .65)}body[_ngcontent-%COMP%]{overflow-y:auto;transition:background-image .5s ease-in-out,background-color .5s linear;background-color:#00000080;width:100%;height:100vh;background-position:center;background-repeat:no-repeat;background-size:cover}.fondo-div[_ngcontent-%COMP%]{height:100%}.background-image[_ngcontent-%COMP%]{transition:background-image .5s ease-in-out}.menu-items[_ngcontent-%COMP%]{background:#fff0}.menu-items[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{color:#212121;text-align:center;--background: rgba(255, 255, 255, .6)}.menu-items[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#212121;text-align:center;background:#fff0}.menu-items[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .4)}.menu-items[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, 0)}.menu-items[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#212121;--background: rgba(255, 255, 255, 0);text-align:center}.menu-items[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{text-align:center;background:#fff0}.menu-items[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:100px;background-size:cover}.menu-items[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{text-align:center;color:#212121}']}),i})()}];let x=(()=>{var n;class i{}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[b.iI.forChild(E),b.iI]}),i})(),y=(()=>{var n;class i{}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[m.MD,_.YN,r.bv,x]}),i})()}}]);