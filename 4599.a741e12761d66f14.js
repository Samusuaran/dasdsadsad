"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4599],{4599:(x,u,r)=>{r.r(u),r.d(u,{CiudadesPageModule:()=>R});var d=r(177),m=r(9417),c=r(9364),g=r(5260),n=r(4438),_=r(3797),h=r(1247),p=r(8152);const f=e=>({"background-image":e});function C(e,a){if(1&e){const o=n.RV6();n.j41(0,"ion-item",17),n.bIt("click",function(){const t=n.eBV(o).$implicit,s=n.XpG(5);return n.Njj(s.seleccionarCiudad(t))}),n.j41(1,"ion-label"),n.EFF(2),n.k0s(),n.nrm(3,"ion-icon",18),n.k0s()}if(2&e){const o=a.$implicit;n.R7$(2),n.JRh(o.nombre)}}function b(e,a){if(1&e&&(n.j41(0,"ion-card-content")(1,"ion-list"),n.DNE(2,C,4,1,"ion-item",16),n.k0s()()),2&e){const o=n.XpG(2).$implicit,i=n.XpG(2);n.R7$(2),n.Y8G("ngForOf",i.zonas[o])}}function P(e,a){if(1&e){const o=n.RV6();n.j41(0,"ion-card",12),n.bIt("click",function(){n.eBV(o);const t=n.XpG().$implicit,s=n.XpG(2);return n.Njj(s.toggleAccordion(t))}),n.j41(1,"ion-card-header")(2,"ion-label"),n.EFF(3),n.k0s(),n.j41(4,"div",13),n.nrm(5,"ion-icon",14),n.k0s()(),n.DNE(6,b,3,1,"ion-card-content",15),n.k0s()}if(2&e){const o=n.XpG().$implicit,i=n.XpG(2);n.R7$(3),n.JRh(o),n.R7$(2),n.Y8G("name",i.isAccordionOpen(o)?"chevron-up-sharp":"chevron-down-sharp"),n.R7$(),n.Y8G("ngIf",i.isAccordionOpen(o))}}function v(e,a){if(1&e&&(n.qex(0),n.DNE(1,P,7,3,"ion-card",11),n.bVm()),2&e){const o=a.$implicit,i=n.XpG(2);n.R7$(),n.Y8G("ngIf",i.zonas[o]&&i.zonas[o].length>0)}}function M(e,a){if(1&e&&(n.j41(0,"ion-list",9),n.DNE(1,v,2,1,"ng-container",10),n.k0s()),2&e){const o=n.XpG();n.R7$(),n.Y8G("ngForOf",o.regionesOrdenadas)}}const O=[{path:"",component:(()=>{var e;class a{constructor(i,t,s,l,j){this.condicion=i,this.obtenerLocalidadService=t,this.router=s,this.route=l,this.coleccionCiudadesService=j,this.zonas={},this.accordionStates={},this.fondoActualIndex=0,this.images=["assets/fondolista/cordillera.jpg","assets/fondolista/costa.jpg","assets/fondolista/desierto.jpg","assets/fondolista/isla.jpg","assets/fondolista/patagonia.jpg","assets/fondolista/valle.jpg","assets/fondolista/glaciar.jpg"],this.currentImage=this.images[0],this.imageIndex=0,this.regionesOrdenadas=["Regi\xf3n de Arica y Parinacota","Regi\xf3n de Tarapac\xe1","Regi\xf3n de Antofagasta","Regi\xf3n de Atacama","Regi\xf3n de Coquimbo","Regi\xf3n de Valpara\xedso","Regi\xf3n Metropolitana de Santiago","Regi\xf3n del Libertador General Bernardo O'Higgins","Regi\xf3n del Maule","Regi\xf3n del \xd1uble","Biob\xedo","Regi\xf3n de la Araucan\xeda","Regi\xf3n de los R\xedos","Regi\xf3n de los Lagos","Regi\xf3n de Ays\xe9n del General Carlos Ib\xe1\xf1ez del Campo","Regi\xf3n de Magallanes y de la Ant\xe1rtica Chilena"],this.ciudades=[],this.zonas={}}ngOnInit(){this.Ciudades(),setInterval(()=>{this.imageIndex=(this.imageIndex+1)%this.images.length,this.currentImage=this.images[this.imageIndex]},5e3)}Ciudades(){this.condicion.getDataLocalidad().subscribe(i=>{this.ciudades=i,this.codciudades=this.ciudades.codigo,this.ciudades.forEach(t=>{const s=t.region_nombre;this.zonas[s]||(this.zonas[s]=[]),this.zonas[s].push(t)}),console.log("Ciudades agrupadas por regi\xf3n:",this.zonas);for(const t in this.zonas)this.zonas[t].sort((s,l)=>s.nombre.localeCompare(l.nombre));this.ciudadesFiltradas=[...this.ciudades]})}toggleAccordion(i){const t=this.accordionStates[i];for(const s in this.accordionStates)this.accordionStates[s]=!1;this.accordionStates[i]=!t}isAccordionOpen(i){return this.accordionStates[i]}filtrarCiudades(i){const t=i.target.value.toLowerCase();this.ciudadesFiltradas=this.ciudades.filter(s=>s.nombre.toLowerCase().indexOf(t)>-1)}seleccionarCiudad(i){this.router.navigate(["/condicion-ciudad",i.codigo])}}return(e=a).\u0275fac=function(i){return new(i||e)(n.rXU(_.g),n.rXU(h.Q),n.rXU(g.Ix),n.rXU(g.nX),n.rXU(p.n))},e.\u0275cmp=n.VBU({type:e,selectors:[["app-ciudades"]],decls:9,vars:4,consts:[[2,"display","flex","justify-content","space-between"],["slot","start"],["color","primary","menu","main-menu"],["slot","end","href","https://www.dgac.gob.cl/"],["id","logo","src","../../assets/icon/DGAC-logo.jpg","alt","logo",2,"height","40px","width","30px","margin-right","1vh"],["slot","end","href","https://archivos.meteochile.gob.cl/portaldmc/movil/movil_inicio.php"],["id","logo","src","../../assets/icon/DMC-logo.png","alt","logo",2,"height","40px","width","40px","margin-right","1vh"],[1,"background-image",3,"ngStyle"],["style","margin-top: 8vh;","class","menu-items","lines","none",4,"ngIf"],["lines","none",1,"menu-items",2,"margin-top","8vh"],[4,"ngFor","ngForOf"],[3,"click",4,"ngIf"],[3,"click"],[2,"text-align","center"],[3,"name"],[4,"ngIf"],["slot","end",3,"click",4,"ngFor","ngForOf"],["slot","end",3,"click"],["name","chevron-forward-sharp"]],template:function(i,t){1&i&&(n.j41(0,"ion-toolbar",0)(1,"ion-buttons",1),n.nrm(2,"ion-menu-button",2),n.k0s(),n.j41(3,"a",3),n.nrm(4,"img",4),n.k0s(),n.j41(5,"a",5),n.nrm(6,"img",6),n.k0s()(),n.j41(7,"body",7),n.DNE(8,M,2,1,"ion-list",8),n.k0s()),2&i&&(n.R7$(7),n.Y8G("ngStyle",n.eq3(2,f,"url("+t.currentImage+")")),n.R7$(),n.Y8G("ngIf",t.ciudadesFiltradas))},dependencies:[d.Sq,d.bT,d.B3,c.QW,c.b_,c.I9,c.ME,c.iq,c.uz,c.he,c.nf,c.MC,c.ai],styles:['@font-face{font-family:Open Sans;src:url(OpenSans-Bold.c1fc02c2ea5dd4e9.ttf) format("truetype")}*[_ngcontent-%COMP%]{font-family:Open Sans}ion-toolbar[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .65)}ion-searchbar[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .65)}body[_ngcontent-%COMP%]{overflow-y:auto;transition:background-image .5s ease-in-out,background-color .5s linear;background-color:#00000080;width:100%;height:100vh;background-position:center;background-repeat:no-repeat;background-size:cover}.fondo-div[_ngcontent-%COMP%]{height:100%}.background-image[_ngcontent-%COMP%]{transition:background-image .5s ease-in-out}.menu-items[_ngcontent-%COMP%]{background:#fff0}.menu-items[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, 0)}.menu-items[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#212121;text-align:center;background:#fff0}.menu-items[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .4)}.menu-items[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, 0)}.menu-items[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#212121;--background: rgba(255, 255, 255, 0);text-align:center}.menu-items[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{background:#fff0}.menu-items[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:100px;background-size:cover}']}),a})()}];let k=(()=>{var e;class a{}return(e=a).\u0275fac=function(i){return new(i||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[g.iI.forChild(O),g.iI]}),a})(),R=(()=>{var e;class a{}return(e=a).\u0275fac=function(i){return new(i||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[d.MD,m.YN,c.bv,k]}),a})()}}]);